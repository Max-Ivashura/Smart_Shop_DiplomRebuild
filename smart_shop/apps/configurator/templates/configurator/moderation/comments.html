{% extends "base.html" %}
{% load static %}

{% block content %}
    <div class="container mt-4">
        <h2>–ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤</h2>

        <table class="table table-hover mt-3">
            <thead>
            <tr>
                <th>–°–±–æ—Ä–∫–∞</th>
                <th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
                <th>–¢–µ–∫—Å—Ç</th>
                <th>–î–∞—Ç–∞</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
            </thead>
            <tbody>
            {% for comment in comments %}
                <tr>
                    <td>
                        <a href="{% url 'configurator:build_detail' comment.build.id %}">
                            –°–±–æ—Ä–∫–∞ #{{ comment.build.id }}
                        </a>
                    </td>
                    <td>{{ comment.user.username }}</td>
                    <td>{{ comment.text|truncatechars:50 }}</td>
                    <td>{{ comment.created_at|date:"d.m.Y H:i" }}</td>
                    <td>
                        <form method="post"
                              action="{% url 'configurator:approve_comment' comment.id %}"
                              class="d-inline">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-success btn-sm">
                                ‚úÖ –û–¥–æ–±—Ä–∏—Ç—å
                            </button>
                        </form>
                        <form method="post"
                              action="{% url 'configurator:delete_comment' comment.id %}"
                              class="d-inline">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-danger btn-sm">
                                ‚ùå –£–¥–∞–ª–∏—Ç—å
                            </button>
                        </form>
                    </td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="5" class="text-center">–ù–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ üéâ</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}